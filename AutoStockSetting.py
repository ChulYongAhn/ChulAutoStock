"""
ChulAutoStock 전역 설정 파일
모든 설정값을 한 곳에서 관리
"""

# ====================================
# 종목 선정 설정
# ====================================

# 최종 선정 종목 수 (Phase 3)
TOP_STOCKS_COUNT = 1  # TOP 몇 개를 선정할지 (1, 3, 5 등)

# 자금 분배 방식
FUND_ALLOCATION_MODE = "equal"  # 균등분배만 사용

# ====================================
# 필터링 조건 (Phase 2)
# ====================================

# 등락률 필터 범위
MIN_CHANGE_RATE = 2.0  # 최소 상승률 (%)
MAX_CHANGE_RATE = 4.0  # 최대 상승률 (%)
MAX_FILTERED_STOCKS = 10  # Phase 2에서 필터링할 최대 종목 수

# 거래량 필터
MIN_VOLUME = 1000000  # 최소 거래량
MIN_VOLUME_RATIO = 1.5  # 평균 거래량 대비 최소 비율

# ====================================
# 매매 설정 (Phase 4)
# ====================================

# 익절/손절 기준
PROFIT_TARGET = 4.0  # +4% 전량 매도
STOP_LOSS = -2.0  # -2% 손절

# 모니터링 주기
MONITORING_INTERVAL = 5  # 초 단위

# ====================================
# 스코어링 가중치 (Phase 3)
# ====================================

SCORING_WEIGHTS = {
    "등락률": 0.3,
    "거래량": 0.2,
    "거래대금": 0.2,
    "체결강도": 0.15,
    "시가총액": 0.15
}

# ====================================
# 시간 설정
# ====================================

# Phase 별 실행 시간
PHASE_SCHEDULE = {
    "phase0": "08:29",  # API 인증
    "phase1": "08:30",  # 전일 데이터 수집
    "phase2": "08:40",  # 실시간 모니터링
    "phase3": "08:55",  # 스코어링 및 선정
    "phase4_buy": "08:59",  # 매수 주문
    "phase4_monitor": "09:00-09:59",  # 포지션 모니터링
    "phase5": "09:59"  # 일일 청산
}

# 장 운영 시간
MARKET_OPEN = "09:00"
MARKET_CLOSE = "15:30"
PRE_MARKET_OPEN = "08:30"

# ====================================
# 코스피 주요 종목 리스트
# 2025년 기준 시가총액 상위 100개 종목
# ====================================

KOSPI_100 = {
    # 시가총액 1위 ~ 10위
    "005930": "삼성전자",
    "000660": "SK하이닉스",
    "005935": "삼성전자우",
    "373220": "LG에너지솔루션",
    "207940": "삼성바이오로직스",
    "005380": "현대차",
    "005490": "POSCO홀딩스",
    "000270": "기아",
    "068270": "셀트리온",
    "035420": "NAVER",

    # 11위 ~ 20위
    "105560": "KB금융",
    "035720": "카카오",
    "051910": "LG화학",
    "006400": "삼성SDI",
    "055550": "신한지주",
    "012330": "현대모비스",
    "003670": "포스코퓨처엠",
    "066570": "LG전자",
    "028260": "삼성물산",
    "096770": "SK이노베이션",

    # 21위 ~ 30위
    "086790": "하나금융지주",
    "003550": "LG",
    "034730": "SK",
    "015760": "한국전력",
    "259960": "크래프톤",
    "017670": "SK텔레콤",
    "316140": "우리금융지주",
    "018260": "삼성에스디에스",
    "010130": "고려아연",
    "011200": "HMM",

    # 31위 ~ 40위
    "024110": "기업은행",
    "090430": "아모레퍼시픽",
    "009150": "삼성전기",
    "032830": "삼성생명",
    "000810": "삼성화재",
    "010140": "삼성중공업",
    "036570": "엔씨소프트",
    "402340": "SK스퀘어",
    "352820": "하이브",
    "011790": "SKC",

    # 41위 ~ 50위
    "030200": "KT",
    "011170": "롯데케미칼",
    "251270": "넷마블",
    "009540": "HD한국조선해양",
    "004020": "현대제철",
    "033780": "KT&G",
    "018880": "한온시스템",
    "034020": "두산에너빌리티",
    "267250": "HD현대",
    "003490": "대한항공",

    # 51위 ~ 60위
    "021240": "코웨이",
    "028050": "삼성엔지니어링",
    "010950": "S-Oil",
    "009830": "한화솔루션",
    "047050": "포스코인터내셔널",
    "002790": "아모레G",
    "011070": "LG이노텍",
    "161390": "한국타이어앤테크놀로지",
    "271560": "오리온",
    "000120": "CJ대한통운",

    # 61위 ~ 70위
    "138930": "BNK금융지주",
    "005830": "DB손해보험",
    "078930": "GS",
    "001570": "금양",
    "377300": "카카오페이",
    "004990": "롯데지주",
    "005940": "NH투자증권",
    "001040": "CJ",
    "071050": "한국금융지주",
    "020150": "롯데에너지머티리얼즈",

    # 71위 ~ 80위
    "088980": "맥쿼리인프라",
    "006800": "미래에셋증권",
    "011780": "금호석유",
    "302440": "SK바이오사이언스",
    "329180": "HD현대중공업",
    "006360": "GS건설",
    "008770": "호텔신라",
    "004170": "신세계",
    "011210": "현대위아",
    "004800": "효성",

    # 81위 ~ 90위
    "180640": "한진칼",
    "001450": "현대해상",
    "139480": "이마트",
    "047810": "한국항공우주",
    "023530": "롯데쇼핑",
    "097950": "CJ제일제당",
    "005387": "현대차2우B",
    "000100": "유한양행",
    "003410": "쌍용C&E",
    "006280": "녹십자",

    # 91위 ~ 100위
    "069960": "현대백화점",
    "007070": "GS리테일",
    "192820": "코스맥스",
    "016360": "삼성증권",
    "000080": "하이트진로",
    "014680": "한솔케미칼",
    "005300": "롯데칠성",
    "280360": "롯데웰푸드",
    "000150": "두산",
    "008930": "한미사이언스"
}

# Phase 2에서 사용할 종목 리스트 (딕셔너리 키만 추출)
STOCK_CODES = list(KOSPI_100.keys())

# ====================================
# 유틸리티 함수
# ====================================

def get_stock_code(name: str) -> str:
    """종목명으로 종목코드 찾기"""
    for code, stock_name in KOSPI_100.items():
        if stock_name == name:
            return code
    return None

def get_stock_name(code: str) -> str:
    """종목코드로 종목명 찾기"""
    return KOSPI_100.get(code, "Unknown")

def get_top_stocks_count():
    """최종 선정 종목 수 반환"""
    return TOP_STOCKS_COUNT

def get_fund_allocation_mode():
    """자금 분배 방식 반환"""
    return FUND_ALLOCATION_MODE

def get_profit_targets():
    """익절 목표 반환"""
    return {
        "target": PROFIT_TARGET,
        "stop_loss": STOP_LOSS
    }

def get_filter_conditions():
    """필터링 조건 반환"""
    return {
        "change_rate": (MIN_CHANGE_RATE, MAX_CHANGE_RATE),
        "volume": MIN_VOLUME,
        "volume_ratio": MIN_VOLUME_RATIO
    }

def print_settings():
    """현재 설정값 출력"""
    print("="*50)
    print("ChulAutoStock 설정")
    print("="*50)
    print(f"• TOP 종목 수: {TOP_STOCKS_COUNT}개")
    print(f"• 자금 분배: {FUND_ALLOCATION_MODE}")
    print(f"• 등락률 필터: {MIN_CHANGE_RATE}% ~ {MAX_CHANGE_RATE}%")
    print(f"• 익절 목표: +{PROFIT_TARGET}%")
    print(f"• 손절선: {STOP_LOSS}%")
    print("="*50)

if __name__ == "__main__":
    print_settings()